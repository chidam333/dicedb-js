import{randomUUID as UH}from"crypto";import{connect as GH}from"net";function F(C){let H=!1,A=[];for(let q=0;q<C.length;q++){let $=C.charAt(q);switch($){case"_":H=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":A.push($),H=!1;break;default:if(H)H=!1,$=$.toUpperCase();A.push($);break}}return A.join("")}var L2=new Set(["constructor","toString","toJSON","valueOf"]);function M(C){return L2.has(C)?C+"$":C}function o0(){let C=0,H=0;for(let q=0;q<28;q+=7){let $=this.buf[this.pos++];if(C|=($&127)<<q,($&128)==0)return this.assertBounds(),[C,H]}let A=this.buf[this.pos++];if(C|=(A&15)<<28,H=(A&112)>>4,(A&128)==0)return this.assertBounds(),[C,H];for(let q=3;q<=31;q+=7){let $=this.buf[this.pos++];if(H|=($&127)<<q,($&128)==0)return this.assertBounds(),[C,H]}throw new Error("invalid varint")}function p(C,H,A){for(let K=0;K<28;K=K+7){let J=C>>>K,z=!(J>>>7==0&&H==0),X=(z?J|128:J)&255;if(A.push(X),!z)return}let q=C>>>28&15|(H&7)<<4,$=H>>3!=0;if(A.push(($?q|128:q)&255),!$)return;for(let K=3;K<31;K=K+7){let J=H>>>K,z=J>>>7!=0,X=(z?J|128:J)&255;if(A.push(X),!z)return}A.push(H>>>31&1)}var o=4294967296;function Y0(C){let H=C[0]==="-";if(H)C=C.slice(1);let A=1e6,q=0,$=0;function K(J,z){let X=Number(C.slice(J,z));if($*=A,q=q*A+X,q>=o)$=$+(q/o|0),q=q%o}return K(-24,-18),K(-18,-12),K(-12,-6),K(-6),H?s0(q,$):Z0(q,$)}function p0(C,H){let A=Z0(C,H),q=A.hi&2147483648;if(q)A=s0(A.lo,A.hi);let $=X0(A.lo,A.hi);return q?"-"+$:$}function X0(C,H){if({lo:C,hi:H}=U2(C,H),H<=2097151)return String(o*H+C);let A=C&16777215,q=(C>>>24|H<<8)&16777215,$=H>>16&65535,K=A+q*6777216+$*6710656,J=q+$*8147497,z=$*2,X=1e7;if(K>=X)J+=Math.floor(K/X),K%=X;if(J>=X)z+=Math.floor(J/X),J%=X;return z.toString()+f0(J)+f0(K)}function U2(C,H){return{lo:C>>>0,hi:H>>>0}}function Z0(C,H){return{lo:C|0,hi:H|0}}function s0(C,H){if(H=~H,C)C=~C+1;else H+=1;return Z0(C,H)}var f0=(C)=>{let H=String(C);return"0000000".slice(H.length)+H};function L0(C,H){if(C>=0){while(C>127)H.push(C&127|128),C=C>>>7;H.push(C)}else{for(let A=0;A<9;A++)H.push(C&127|128),C=C>>7;H.push(1)}}function d0(){let C=this.buf[this.pos++],H=C&127;if((C&128)==0)return this.assertBounds(),H;if(C=this.buf[this.pos++],H|=(C&127)<<7,(C&128)==0)return this.assertBounds(),H;if(C=this.buf[this.pos++],H|=(C&127)<<14,(C&128)==0)return this.assertBounds(),H;if(C=this.buf[this.pos++],H|=(C&127)<<21,(C&128)==0)return this.assertBounds(),H;C=this.buf[this.pos++],H|=(C&15)<<28;for(let A=5;(C&128)!==0&&A<10;A++)C=this.buf[this.pos++];if((C&128)!=0)throw new Error("invalid varint");return this.assertBounds(),H>>>0}var Z=G2();function G2(){let C=new DataView(new ArrayBuffer(8));if(typeof BigInt==="function"&&typeof C.getBigInt64==="function"&&typeof C.getBigUint64==="function"&&typeof C.setBigInt64==="function"&&typeof C.setBigUint64==="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let A=BigInt("-9223372036854775808"),q=BigInt("9223372036854775807"),$=BigInt("0"),K=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(J){let z=typeof J=="bigint"?J:BigInt(J);if(z>q||z<A)throw new Error(`invalid int64: ${J}`);return z},uParse(J){let z=typeof J=="bigint"?J:BigInt(J);if(z>K||z<$)throw new Error(`invalid uint64: ${J}`);return z},enc(J){return C.setBigInt64(0,this.parse(J),!0),{lo:C.getInt32(0,!0),hi:C.getInt32(4,!0)}},uEnc(J){return C.setBigInt64(0,this.uParse(J),!0),{lo:C.getInt32(0,!0),hi:C.getInt32(4,!0)}},dec(J,z){return C.setInt32(0,J,!0),C.setInt32(4,z,!0),C.getBigInt64(0,!0)},uDec(J,z){return C.setInt32(0,J,!0),C.setInt32(4,z,!0),C.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(A){if(typeof A!="string")A=A.toString();return r0(A),A},uParse(A){if(typeof A!="string")A=A.toString();return t0(A),A},enc(A){if(typeof A!="string")A=A.toString();return r0(A),Y0(A)},uEnc(A){if(typeof A!="string")A=A.toString();return t0(A),Y0(A)},dec(A,q){return p0(A,q)},uDec(A,q){return X0(A,q)}}}function r0(C){if(!/^-?[0-9]+$/.test(C))throw new Error("invalid int64: "+C)}function t0(C){if(!/^[0-9]+$/.test(C))throw new Error("invalid uint64: "+C)}var Q;(function(C){C[C.DOUBLE=1]="DOUBLE",C[C.FLOAT=2]="FLOAT",C[C.INT64=3]="INT64",C[C.UINT64=4]="UINT64",C[C.INT32=5]="INT32",C[C.FIXED64=6]="FIXED64",C[C.FIXED32=7]="FIXED32",C[C.BOOL=8]="BOOL",C[C.STRING=9]="STRING",C[C.BYTES=12]="BYTES",C[C.UINT32=13]="UINT32",C[C.SFIXED32=15]="SFIXED32",C[C.SFIXED64=16]="SFIXED64",C[C.SINT32=17]="SINT32",C[C.SINT64=18]="SINT64"})(Q||(Q={}));function O(C,H){switch(C){case Q.STRING:return"";case Q.BOOL:return!1;default:return 0;case Q.DOUBLE:case Q.FLOAT:return 0;case Q.INT64:case Q.UINT64:case Q.SFIXED64:case Q.FIXED64:case Q.SINT64:return H?"0":Z.zero;case Q.BYTES:return new Uint8Array(0)}}function i0(C,H){switch(C){case Q.BOOL:return H===!1;case Q.STRING:return H==="";case Q.BYTES:return H instanceof Uint8Array&&!H.byteLength;default:return H==0}}var l0=2,V=Symbol.for("reflect unsafe local");function s(C,H){let A=C[H.localName].case;if(A===void 0)return A;return H.fields.find((q)=>q.localName===A)}function a0(C,H){let A=H.localName;if(H.oneof)return C[H.oneof.localName].case===A;if(H.presence!=l0)return C[A]!==void 0&&Object.prototype.hasOwnProperty.call(C,A);switch(H.fieldKind){case"list":return C[A].length>0;case"map":return Object.keys(C[A]).length>0;case"scalar":return!i0(H.scalar,C[A]);case"enum":return C[A]!==H.enum.values[0].number}throw new Error("message field with implicit presence")}function D(C,H){return Object.prototype.hasOwnProperty.call(C,H)&&C[H]!==void 0}function d(C,H){if(H.oneof){let A=C[H.oneof.localName];if(A.case===H.localName)return A.value;return}return C[H.localName]}function r(C,H,A){if(H.oneof)C[H.oneof.localName]={case:H.localName,value:A};else C[H.localName]=A}function e0(C,H){let A=H.localName;if(H.oneof){let q=H.oneof.localName;if(C[q].case===A)C[q]={case:void 0}}else if(H.presence!=l0)delete C[A];else switch(H.fieldKind){case"map":C[A]={};break;case"list":C[A]=[];break;case"enum":C[A]=H.enum.values[0].number;break;case"scalar":C[A]=O(H.scalar,H.longAsString);break}}function _(C){for(let H of C.field)if(!D(H,"jsonName"))H.jsonName=F(H.name);C.nestedType.forEach(_)}function CC(C,H){let A=C.values.find((q)=>q.name===H);if(!A)throw new Error(`cannot parse ${C} default value: ${H}`);return A.number}function HC(C,H){switch(C){case Q.STRING:return H;case Q.BYTES:{let A=x2(H);if(A===!1)throw new Error(`cannot parse ${Q[C]} default value: ${H}`);return A}case Q.INT64:case Q.SFIXED64:case Q.SINT64:return Z.parse(H);case Q.UINT64:case Q.FIXED64:return Z.uParse(H);case Q.DOUBLE:case Q.FLOAT:switch(H){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(H)}case Q.BOOL:return H==="true";case Q.INT32:case Q.UINT32:case Q.SINT32:case Q.FIXED32:case Q.SFIXED32:return parseInt(H,10)}}function x2(C){let H=[],A={tail:C,c:"",next(){if(this.tail.length==0)return!1;return this.c=this.tail[0],this.tail=this.tail.substring(1),!0},take(q){if(this.tail.length>=q){let $=this.tail.substring(0,q);return this.tail=this.tail.substring(q),$}return!1}};while(A.next())switch(A.c){case"\\":if(A.next())switch(A.c){case"\\":H.push(A.c.charCodeAt(0));break;case"b":H.push(8);break;case"f":H.push(12);break;case"n":H.push(10);break;case"r":H.push(13);break;case"t":H.push(9);break;case"v":H.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let q=A.c,$=A.take(2);if($===!1)return!1;let K=parseInt(q+$,8);if(isNaN(K))return!1;H.push(K);break}case"x":{let q=A.c,$=A.take(2);if($===!1)return!1;let K=parseInt(q+$,16);if(isNaN(K))return!1;H.push(K);break}case"u":{let q=A.c,$=A.take(4);if($===!1)return!1;let K=parseInt(q+$,16);if(isNaN(K))return!1;let J=new Uint8Array(4);new DataView(J.buffer).setInt32(0,K,!0),H.push(J[0],J[1],J[2],J[3]);break}case"U":{let q=A.c,$=A.take(8);if($===!1)return!1;let K=Z.uEnc(q+$),J=new Uint8Array(8),z=new DataView(J.buffer);z.setInt32(0,K.lo,!0),z.setInt32(4,K.hi,!0),H.push(J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7]);break}}break;default:H.push(A.c.charCodeAt(0))}return new Uint8Array(H)}function*t(C){switch(C.kind){case"file":for(let H of C.messages)yield H,yield*t(H);yield*C.enums,yield*C.services,yield*C.extensions;break;case"message":for(let H of C.nestedMessages)yield H,yield*t(H);yield*C.nestedEnums,yield*C.nestedExtensions;break}}function l(...C){let H=V2();if(!C.length)return H;if("$typeName"in C[0]&&C[0].$typeName=="google.protobuf.FileDescriptorSet"){for(let A of C[0].file)$C(A,H);return H}if("$typeName"in C[0]){let K=function(J){let z=[];for(let X of J.dependency){if(H.getFile(X)!=null)continue;if($.has(X))continue;let Y=q(X);if(!Y)throw new Error(`Unable to resolve ${X}, imported by ${J.name}`);if("kind"in Y)H.addFile(Y,!1,!0);else $.add(Y.name),z.push(Y)}return z.concat(...z.map(K))},A=C[0],q=C[1],$=new Set;for(let J of[A,...K(A)].reverse())$C(J,H)}else for(let A of C)for(let q of A.files)H.addFile(q);return H}function V2(){let C=new Map,H=new Map,A=new Map;return{kind:"registry",types:C,extendees:H,[Symbol.iterator](){return C.values()},get files(){return A.values()},addFile(q,$,K){if(A.set(q.proto.name,q),!$)for(let J of t(q))this.add(J);if(K)for(let J of q.dependencies)this.addFile(J,$,K)},add(q){if(q.kind=="extension"){let $=H.get(q.extendee.typeName);if(!$)H.set(q.extendee.typeName,$=new Map);$.set(q.number,q)}C.set(q.typeName,q)},get(q){return C.get(q)},getFile(q){return A.get(q)},getMessage(q){let $=C.get(q);return($===null||$===void 0?void 0:$.kind)=="message"?$:void 0},getEnum(q){let $=C.get(q);return($===null||$===void 0?void 0:$.kind)=="enum"?$:void 0},getExtension(q){let $=C.get(q);return($===null||$===void 0?void 0:$.kind)=="extension"?$:void 0},getExtensionFor(q,$){var K;return(K=H.get(q.typeName))===null||K===void 0?void 0:K.get($)},getService(q){let $=C.get(q);return($===null||$===void 0?void 0:$.kind)=="service"?$:void 0}}}var W2=998,R2=999,O2=9,i=10,S=11,B2=12,AC=14,W0=3,I2=2,qC=1,h2=0,U0=1,N2=2,D2=3,F2=1,M2=2,P2=1;var JC={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2},1000:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2}};function $C(C,H){var A,q;let $={kind:"file",proto:C,deprecated:(q=(A=C.options)===null||A===void 0?void 0:A.deprecated)!==null&&q!==void 0?q:!1,edition:k2(C),name:C.name.replace(/\.proto$/,""),dependencies:_2(C,H),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${C.name}`}},K=new Map,J={get(z){return K.get(z)},add(z){var X;W(((X=z.proto.options)===null||X===void 0?void 0:X.mapEntry)===!0),K.set(z.typeName,z)}};for(let z of C.enumType)QC(z,$,void 0,H);for(let z of C.messageType)zC(z,$,void 0,H,J);for(let z of C.service)j2(z,$,H);G0($,H);for(let z of K.values())x0(z,H,J);for(let z of $.messages)x0(z,H,J),G0(z,H);H.addFile($,!0)}function G0(C,H){switch(C.kind){case"file":for(let A of C.proto.extension){let q=V0(A,C,H);C.extensions.push(q),H.add(q)}break;case"message":for(let A of C.proto.extension){let q=V0(A,C,H);C.nestedExtensions.push(q),H.add(q)}for(let A of C.nestedMessages)G0(A,H);break}}function x0(C,H,A){let q=C.proto.oneofDecl.map((K)=>E2(K,C)),$=new Set;for(let K of C.proto.field){let J=b2(K,q),z=V0(K,C,H,J,A);if(C.fields.push(z),C.field[z.localName]=z,J===void 0)C.members.push(z);else if(J.fields.push(z),!$.has(J))$.add(J),C.members.push(J)}for(let K of q.filter((J)=>$.has(J)))C.oneofs.push(K);for(let K of C.nestedMessages)x0(K,H,A)}function QC(C,H,A,q){var $,K,J;let z=S2(C.name,C.value),X={kind:"enum",proto:C,deprecated:(K=($=C.options)===null||$===void 0?void 0:$.deprecated)!==null&&K!==void 0?K:!1,file:H,parent:A,open:!0,name:C.name,typeName:a(C,A,H),value:{},values:[],sharedPrefix:z,toString(){return`enum ${this.typeName}`}};X.open=g2(X),q.add(X),C.value.forEach((Y)=>{var U,G;let N=Y.name;X.values.push(X.value[Y.number]={kind:"enum_value",proto:Y,deprecated:(G=(U=Y.options)===null||U===void 0?void 0:U.deprecated)!==null&&G!==void 0?G:!1,parent:X,name:N,localName:M(z==null?N:N.substring(z.length)),number:Y.number,toString(){return`enum value ${X.typeName}.${N}`}})}),((J=A===null||A===void 0?void 0:A.nestedEnums)!==null&&J!==void 0?J:H.enums).push(X)}function zC(C,H,A,q,$){var K,J,z,X;let Y={kind:"message",proto:C,deprecated:(J=(K=C.options)===null||K===void 0?void 0:K.deprecated)!==null&&J!==void 0?J:!1,file:H,parent:A,name:C.name,typeName:a(C,A,H),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};if(((z=C.options)===null||z===void 0?void 0:z.mapEntry)===!0)$.add(Y);else((X=A===null||A===void 0?void 0:A.nestedMessages)!==null&&X!==void 0?X:H.messages).push(Y),q.add(Y);for(let U of C.enumType)QC(U,H,Y,q);for(let U of C.nestedType)zC(U,H,Y,q,$)}function j2(C,H,A){var q,$;let K={kind:"service",proto:C,deprecated:($=(q=C.options)===null||q===void 0?void 0:q.deprecated)!==null&&$!==void 0?$:!1,file:H,name:C.name,typeName:a(C,void 0,H),methods:[],method:{},toString(){return`service ${this.typeName}`}};H.services.push(K),A.add(K);for(let J of C.method){let z=w2(J,K,A);K.methods.push(z),K.method[z.localName]=z}}function w2(C,H,A){var q,$,K,J;let z;if(C.clientStreaming&&C.serverStreaming)z="bidi_streaming";else if(C.clientStreaming)z="client_streaming";else if(C.serverStreaming)z="server_streaming";else z="unary";let X=A.getMessage(B(C.inputType)),Y=A.getMessage(B(C.outputType));W(X,`invalid MethodDescriptorProto: input_type ${C.inputType} not found`),W(Y,`invalid MethodDescriptorProto: output_type ${C.inputType} not found`);let U=C.name;return{kind:"rpc",proto:C,deprecated:($=(q=C.options)===null||q===void 0?void 0:q.deprecated)!==null&&$!==void 0?$:!1,parent:H,name:U,localName:M(U.length?M(U[0].toLowerCase()+U.substring(1)):U),methodKind:z,input:X,output:Y,idempotency:(J=(K=C.options)===null||K===void 0?void 0:K.idempotencyLevel)!==null&&J!==void 0?J:h2,toString(){return`rpc ${H.typeName}.${U}`}}}function E2(C,H){return{kind:"oneof",proto:C,deprecated:!1,parent:H,fields:[],name:C.name,localName:M(F(C.name)),toString(){return`oneof ${H.typeName}.${this.name}`}}}function V0(C,H,A,q,$){var K,J,z;let X=$===void 0,Y={kind:"field",proto:C,deprecated:(J=(K=C.options)===null||K===void 0?void 0:K.deprecated)!==null&&J!==void 0?J:!1,name:C.name,number:C.number,scalar:void 0,message:void 0,enum:void 0,presence:m2(C,q,X,H),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(X){let x=H.kind=="file"?H:H.file,f=H.kind=="file"?void 0:H,h=a(C,f,x);Y.kind="extension",Y.file=x,Y.parent=f,Y.oneof=void 0,Y.typeName=h,Y.jsonName=`[${h}]`,Y.toString=()=>`extension ${h}`;let v0=A.getMessage(B(C.extendee));W(v0,`invalid FieldDescriptorProto: extendee ${C.extendee} not found`),Y.extendee=v0}else{let x=H;W(x.kind=="message"),Y.parent=x,Y.oneof=q,Y.localName=q?F(C.name):M(F(C.name)),Y.jsonName=C.jsonName,Y.toString=()=>`field ${x.typeName}.${C.name}`}let{label:U,type:G}=C,N=(z=C.options)===null||z===void 0?void 0:z.jstype;if(U===W0){let x=G==S?$===null||$===void 0?void 0:$.get(B(C.typeName)):void 0;if(x){Y.fieldKind="map";let{key:f,value:h}=y2(x);return Y.mapKey=f.scalar,Y.mapKind=h.fieldKind,Y.message=h.message,Y.delimitedEncoding=!1,Y.enum=h.enum,Y.scalar=h.scalar,Y}switch(Y.fieldKind="list",G){case S:case i:Y.listKind="message",Y.message=A.getMessage(B(C.typeName)),W(Y.message),Y.delimitedEncoding=KC(C,H);break;case AC:Y.listKind="enum",Y.enum=A.getEnum(B(C.typeName)),W(Y.enum);break;default:Y.listKind="scalar",Y.scalar=G,Y.longAsString=N==qC;break}return Y.packed=T2(C,H),Y}switch(G){case S:case i:Y.fieldKind="message",Y.message=A.getMessage(B(C.typeName)),W(Y.message,`invalid FieldDescriptorProto: type_name ${C.typeName} not found`),Y.delimitedEncoding=KC(C,H),Y.getDefaultValue=()=>{return};break;case AC:{let x=A.getEnum(B(C.typeName));W(x!==void 0,`invalid FieldDescriptorProto: type_name ${C.typeName} not found`),Y.fieldKind="enum",Y.enum=A.getEnum(B(C.typeName)),Y.getDefaultValue=()=>{return D(C,"defaultValue")?CC(x,C.defaultValue):void 0};break}default:{Y.fieldKind="scalar",Y.scalar=G,Y.longAsString=N==qC,Y.getDefaultValue=()=>{return D(C,"defaultValue")?HC(G,C.defaultValue):void 0};break}}return Y}function k2(C){switch(C.syntax){case"":case"proto2":return W2;case"proto3":return R2;case"editions":if(C.edition in JC)return C.edition;throw new Error(`${C.name}: unsupported edition`);default:throw new Error(`${C.name}: unsupported syntax "${C.syntax}"`)}}function _2(C,H){return C.dependency.map((A)=>{let q=H.getFile(A);if(!q)throw new Error(`Cannot find ${A}, imported by ${C.name}`);return q})}function S2(C,H){let A=n2(C)+"_";for(let q of H){if(!q.name.toLowerCase().startsWith(A))return;let $=q.name.substring(A.length);if($.length==0)return;if(/^\d/.test($))return}return A}function n2(C){return(C.substring(0,1)+C.substring(1).replace(/[A-Z]/g,(H)=>"_"+H)).toLowerCase()}function a(C,H,A){let q;if(H)q=`${H.typeName}.${C.name}`;else if(A.proto.package.length>0)q=`${A.proto.package}.${C.name}`;else q=`${C.name}`;return q}function B(C){return C.startsWith(".")?C.substring(1):C}function b2(C,H){if(!D(C,"oneofIndex"))return;if(C.proto3Optional)return;let A=H[C.oneofIndex];return W(A,`invalid FieldDescriptorProto: oneof #${C.oneofIndex} for field #${C.number} not found`),A}function m2(C,H,A,q){if(C.label==I2)return D2;if(C.label==W0)return N2;if(!!H||C.proto3Optional)return U0;if(C.type==S)return U0;if(A)return U0;return P("fieldPresence",{proto:C,parent:q})}function T2(C,H){if(C.label!=W0)return!1;switch(C.type){case O2:case B2:case i:case S:return!1}let A=C.options;if(A&&D(A,"packed"))return A.packed;return F2==P("repeatedFieldEncoding",{proto:C,parent:H})}function y2(C){let H=C.fields.find((q)=>q.number===1),A=C.fields.find((q)=>q.number===2);return W(H&&H.fieldKind=="scalar"&&H.scalar!=Q.BYTES&&H.scalar!=Q.FLOAT&&H.scalar!=Q.DOUBLE&&A&&A.fieldKind!="list"&&A.fieldKind!="map"),{key:H,value:A}}function g2(C){var H;return P2==P("enumType",{proto:C.proto,parent:(H=C.parent)!==null&&H!==void 0?H:C.file})}function KC(C,H){if(C.type==i)return!0;return M2==P("messageEncoding",{proto:C,parent:H})}function P(C,H){var A,q;let $=(A=H.proto.options)===null||A===void 0?void 0:A.features;if($){let K=$[C];if(K!=0)return K}if("kind"in H){if(H.kind=="message")return P(C,(q=H.parent)!==null&&q!==void 0?q:H.file);let K=JC[H.edition];if(!K)throw new Error(`feature default for edition ${H.edition} not found`);return K[C]}return P(C,H.parent)}function W(C,H){if(!C)throw new Error(H)}function YC(C){let H=c2(C);return H.messageType.forEach(_),l(H,()=>{return}).getFile(H.name)}function c2(C){let H=Object.create({syntax:"",edition:0});return Object.assign(H,Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],service:[],extension:[]},C),{messageType:C.messageType.map(XC),enumType:C.enumType.map(ZC)}))}function XC(C){var H,A,q,$,K,J,z,X;return{$typeName:"google.protobuf.DescriptorProto",name:C.name,field:(A=(H=C.field)===null||H===void 0?void 0:H.map(u2))!==null&&A!==void 0?A:[],extension:[],nestedType:($=(q=C.nestedType)===null||q===void 0?void 0:q.map(XC))!==null&&$!==void 0?$:[],enumType:(J=(K=C.enumType)===null||K===void 0?void 0:K.map(ZC))!==null&&J!==void 0?J:[],extensionRange:(X=(z=C.extensionRange)===null||z===void 0?void 0:z.map((Y)=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},Y)))!==null&&X!==void 0?X:[],oneofDecl:[],reservedRange:[],reservedName:[]}}function u2(C){let H=Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1});return Object.assign(H,Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},C),{options:C.options?v2(C.options):void 0}))}function v2(C){var H,A,q;let $=Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0});return Object.assign($,Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},C),{targets:(H=C.targets)!==null&&H!==void 0?H:[],editionDefaults:(q=(A=C.editionDefaults)===null||A===void 0?void 0:A.map((K)=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},K)))!==null&&q!==void 0?q:[],uninterpretedOption:[]}))}function ZC(C){return{$typeName:"google.protobuf.EnumDescriptorProto",name:C.name,reservedName:[],reservedRange:[],value:C.value.map((H)=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},H))}}function UC(C){let H=o2(),A=C.length*3/4;if(C[C.length-2]=="=")A-=2;else if(C[C.length-1]=="=")A-=1;let q=new Uint8Array(A),$=0,K=0,J,z=0;for(let X=0;X<C.length;X++){if(J=H[C.charCodeAt(X)],J===void 0)switch(C[X]){case"=":K=0;case`
`:case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string")}switch(K){case 0:z=J,K=1;break;case 1:q[$++]=z<<2|(J&48)>>4,z=J,K=2;break;case 2:q[$++]=(z&15)<<4|(J&60)>>2,z=J,K=3;break;case 3:q[$++]=(z&3)<<6|J,K=0;break}}if(K==1)throw Error("invalid base64 string");return q.subarray(0,$)}var e,LC,j;function f2(C){if(!e)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),LC=e.slice(0,-2).concat("-","_");return C=="url"?LC:e}function o2(){if(!j){j=[];let C=f2("std");for(let H=0;H<C.length;H++)j[C[H].charCodeAt(0)]=H;j[45]=C.indexOf("+"),j[95]=C.indexOf("/")}return j}function n(C,H){if(!(C!==null&&typeof C=="object"&&("$typeName"in C)&&typeof C.$typeName=="string"))return!1;if(H===void 0)return!0;return H.typeName===C.$typeName}class I extends Error{constructor(C,H,A="FieldValueInvalidError"){super(H);this.name=A,this.field=()=>C}}function R(C){return C!==null&&typeof C=="object"&&!Array.isArray(C)}function b(C,H){var A,q,$,K;if(R(C)&&V in C&&"add"in C&&"field"in C&&typeof C.field=="function"){if(H!==void 0){let J=H,z=C.field();return J.listKind==z.listKind&&J.scalar===z.scalar&&((A=J.message)===null||A===void 0?void 0:A.typeName)===((q=z.message)===null||q===void 0?void 0:q.typeName)&&(($=J.enum)===null||$===void 0?void 0:$.typeName)===((K=z.enum)===null||K===void 0?void 0:K.typeName)}return!0}return!1}function m(C,H){var A,q,$,K;if(R(C)&&V in C&&"has"in C&&"field"in C&&typeof C.field=="function"){if(H!==void 0){let J=H,z=C.field();return J.mapKey===z.mapKey&&J.mapKind==z.mapKind&&J.scalar===z.scalar&&((A=J.message)===null||A===void 0?void 0:A.typeName)===((q=z.message)===null||q===void 0?void 0:q.typeName)&&(($=J.enum)===null||$===void 0?void 0:$.typeName)===((K=z.enum)===null||K===void 0?void 0:K.typeName)}return!0}return!1}function T(C,H){return R(C)&&V in C&&"desc"in C&&R(C.desc)&&C.desc.kind==="message"&&(H===void 0||C.desc.typeName==H.typeName)}var R0=Symbol.for("@bufbuild/protobuf/text-encoding");function y(){if(globalThis[R0]==null){let C=new globalThis.TextEncoder,H=new globalThis.TextDecoder;globalThis[R0]={encodeUtf8(A){return C.encode(A)},decodeUtf8(A){return H.decode(A)},checkUtf8(A){try{return encodeURIComponent(A),!0}catch(q){return!1}}}}return globalThis[R0]}var L;(function(C){C[C.Varint=0]="Varint",C[C.Bit64=1]="Bit64",C[C.LengthDelimited=2]="LengthDelimited",C[C.StartGroup=3]="StartGroup",C[C.EndGroup=4]="EndGroup",C[C.Bit32=5]="Bit32"})(L||(L={}));var B0=340282346638528860000000000000000000000,I0=-340282346638528860000000000000000000000,h0=4294967295,N0=2147483647,D0=-2147483648;class F0{constructor(C=y().encodeUtf8){this.encodeUtf8=C,this.stack=[],this.chunks=[],this.buf=[]}finish(){if(this.buf.length)this.chunks.push(new Uint8Array(this.buf)),this.buf=[];let C=0;for(let q=0;q<this.chunks.length;q++)C+=this.chunks[q].length;let H=new Uint8Array(C),A=0;for(let q=0;q<this.chunks.length;q++)H.set(this.chunks[q],A),A+=this.chunks[q].length;return this.chunks=[],H}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let C=this.finish(),H=this.stack.pop();if(!H)throw new Error("invalid state, fork stack empty");return this.chunks=H.chunks,this.buf=H.buf,this.uint32(C.byteLength),this.raw(C)}tag(C,H){return this.uint32((C<<3|H)>>>0)}raw(C){if(this.buf.length)this.chunks.push(new Uint8Array(this.buf)),this.buf=[];return this.chunks.push(C),this}uint32(C){GC(C);while(C>127)this.buf.push(C&127|128),C=C>>>7;return this.buf.push(C),this}int32(C){return O0(C),L0(C,this.buf),this}bool(C){return this.buf.push(C?1:0),this}bytes(C){return this.uint32(C.byteLength),this.raw(C)}string(C){let H=this.encodeUtf8(C);return this.uint32(H.byteLength),this.raw(H)}float(C){p2(C);let H=new Uint8Array(4);return new DataView(H.buffer).setFloat32(0,C,!0),this.raw(H)}double(C){let H=new Uint8Array(8);return new DataView(H.buffer).setFloat64(0,C,!0),this.raw(H)}fixed32(C){GC(C);let H=new Uint8Array(4);return new DataView(H.buffer).setUint32(0,C,!0),this.raw(H)}sfixed32(C){O0(C);let H=new Uint8Array(4);return new DataView(H.buffer).setInt32(0,C,!0),this.raw(H)}sint32(C){return O0(C),C=(C<<1^C>>31)>>>0,L0(C,this.buf),this}sfixed64(C){let H=new Uint8Array(8),A=new DataView(H.buffer),q=Z.enc(C);return A.setInt32(0,q.lo,!0),A.setInt32(4,q.hi,!0),this.raw(H)}fixed64(C){let H=new Uint8Array(8),A=new DataView(H.buffer),q=Z.uEnc(C);return A.setInt32(0,q.lo,!0),A.setInt32(4,q.hi,!0),this.raw(H)}int64(C){let H=Z.enc(C);return p(H.lo,H.hi,this.buf),this}sint64(C){let H=Z.enc(C),A=H.hi>>31,q=H.lo<<1^A,$=(H.hi<<1|H.lo>>>31)^A;return p(q,$,this.buf),this}uint64(C){let H=Z.uEnc(C);return p(H.lo,H.hi,this.buf),this}}class M0{constructor(C,H=y().decodeUtf8){this.decodeUtf8=H,this.varint64=o0,this.uint32=d0,this.buf=C,this.len=C.length,this.pos=0,this.view=new DataView(C.buffer,C.byteOffset,C.byteLength)}tag(){let C=this.uint32(),H=C>>>3,A=C&7;if(H<=0||A<0||A>5)throw new Error("illegal tag: field no "+H+" wire type "+A);return[H,A]}skip(C,H){let A=this.pos;switch(C){case L.Varint:while(this.buf[this.pos++]&128);break;case L.Bit64:this.pos+=4;case L.Bit32:this.pos+=4;break;case L.LengthDelimited:let q=this.uint32();this.pos+=q;break;case L.StartGroup:for(;;){let[$,K]=this.tag();if(K===L.EndGroup){if(H!==void 0&&$!==H)throw new Error("invalid end group tag");break}this.skip(K,$)}break;default:throw new Error("cant skip wire type "+C)}return this.assertBounds(),this.buf.subarray(A,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let C=this.uint32();return C>>>1^-(C&1)}int64(){return Z.dec(...this.varint64())}uint64(){return Z.uDec(...this.varint64())}sint64(){let[C,H]=this.varint64(),A=-(C&1);return C=(C>>>1|(H&1)<<31)^A,H=H>>>1^A,Z.dec(C,H)}bool(){let[C,H]=this.varint64();return C!==0||H!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Z.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Z.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let C=this.uint32(),H=this.pos;return this.pos+=C,this.assertBounds(),this.buf.subarray(H,H+C)}string(){return this.decodeUtf8(this.bytes())}}function O0(C){if(typeof C=="string")C=Number(C);else if(typeof C!="number")throw new Error("invalid int32: "+typeof C);if(!Number.isInteger(C)||C>N0||C<D0)throw new Error("invalid int32: "+C)}function GC(C){if(typeof C=="string")C=Number(C);else if(typeof C!="number")throw new Error("invalid uint32: "+typeof C);if(!Number.isInteger(C)||C>h0||C<0)throw new Error("invalid uint32: "+C)}function p2(C){if(typeof C=="string"){let H=C;if(C=Number(C),isNaN(C)&&H!=="NaN")throw new Error("invalid float32: "+H)}else if(typeof C!="number")throw new Error("invalid float32: "+typeof C);if(Number.isFinite(C)&&(C>B0||C<I0))throw new Error("invalid float32: "+C)}function xC(C,H){let A=C.fieldKind=="list"?b(H,C):C.fieldKind=="map"?m(H,C):j0(C,H);if(A===!0)return;let q;switch(C.fieldKind){case"list":q=`expected ${OC(C)}, got ${H0(H)}`;break;case"map":q=`expected ${BC(C)}, got ${H0(H)}`;break;default:q=C0(C,H,A)}return new I(C,q)}function P0(C,H,A){let q=j0(C,A);if(q!==!0)return new I(C,`list item #${H+1}: ${C0(C,A,q)}`);return}function VC(C,H,A){let q=WC(H,C.mapKey);if(q!==!0)return new I(C,`invalid map key: ${C0({scalar:C.mapKey},H,q)}`);let $=j0(C,A);if($!==!0)return new I(C,`map entry ${H0(H)}: ${C0(C,A,$)}`);return}function j0(C,H){if(C.scalar!==void 0)return WC(H,C.scalar);if(C.enum!==void 0){if(C.enum.open)return Number.isInteger(H);return C.enum.values.some((A)=>A.number===H)}return T(H,C.message)}function WC(C,H){switch(H){case Q.DOUBLE:return typeof C=="number";case Q.FLOAT:if(typeof C!="number")return!1;if(Number.isNaN(C)||!Number.isFinite(C))return!0;if(C>B0||C<I0)return`${C.toFixed()} out of range`;return!0;case Q.INT32:case Q.SFIXED32:case Q.SINT32:if(typeof C!=="number"||!Number.isInteger(C))return!1;if(C>N0||C<D0)return`${C.toFixed()} out of range`;return!0;case Q.FIXED32:case Q.UINT32:if(typeof C!=="number"||!Number.isInteger(C))return!1;if(C>h0||C<0)return`${C.toFixed()} out of range`;return!0;case Q.BOOL:return typeof C=="boolean";case Q.STRING:if(typeof C!="string")return!1;return y().checkUtf8(C)||"invalid UTF8";case Q.BYTES:return C instanceof Uint8Array;case Q.INT64:case Q.SFIXED64:case Q.SINT64:if(typeof C=="bigint"||typeof C=="number"||typeof C=="string"&&C.length>0)try{return Z.parse(C),!0}catch(A){return`${C} out of range`}return!1;case Q.FIXED64:case Q.UINT64:if(typeof C=="bigint"||typeof C=="number"||typeof C=="string"&&C.length>0)try{return Z.uParse(C),!0}catch(A){return`${C} out of range`}return!1}}function C0(C,H,A){if(A=typeof A=="string"?`: ${A}`:`, got ${H0(H)}`,C.scalar!==void 0)return`expected ${s2(C.scalar)}`+A;else if(C.enum!==void 0)return`expected ${C.enum.toString()}`+A;return`expected ${RC(C.message)}`+A}function H0(C){switch(typeof C){case"object":if(C===null)return"null";if(C instanceof Uint8Array)return`Uint8Array(${C.length})`;if(Array.isArray(C))return`Array(${C.length})`;if(b(C))return OC(C.field());if(m(C))return BC(C.field());if(T(C))return RC(C.desc);if(n(C))return`message ${C.$typeName}`;return"object";case"string":return C.length>30?"string":`"${C.split('"').join("\\\"")}"`;case"boolean":return String(C);case"number":return String(C);case"bigint":return String(C)+"n";default:return typeof C}}function RC(C){return`ReflectMessage (${C.typeName})`}function OC(C){switch(C.listKind){case"message":return`ReflectList (${C.message.toString()})`;case"enum":return`ReflectList (${C.enum.toString()})`;case"scalar":return`ReflectList (${Q[C.scalar]})`}}function BC(C){switch(C.mapKind){case"message":return`ReflectMap (${Q[C.mapKey]}, ${C.message.toString()})`;case"enum":return`ReflectMap (${Q[C.mapKey]}, ${C.enum.toString()})`;case"scalar":return`ReflectMap (${Q[C.mapKey]}, ${Q[C.scalar]})`}}function s2(C){switch(C){case Q.STRING:return"string";case Q.BOOL:return"boolean";case Q.INT64:case Q.SINT64:case Q.SFIXED64:return"bigint (int64)";case Q.UINT64:case Q.FIXED64:return"bigint (uint64)";case Q.BYTES:return"Uint8Array";case Q.DOUBLE:return"number (float64)";case Q.FLOAT:return"number (float32)";case Q.FIXED32:case Q.UINT32:return"number (uint32)";case Q.INT32:case Q.SFIXED32:case Q.SINT32:return"number (int32)"}}function IC(C){return hC(C.$typeName)}function A0(C){let H=C.fields[0];return hC(C.typeName)&&H!==void 0&&H.fieldKind=="scalar"&&H.name=="value"&&H.number==1}function hC(C){return C.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(C.substring(16))}var d2=999,r2=998,q0=2;function w(C,H){if(n(H,C))return H;let A=e2(C);if(H!==void 0)t2(C,A,H);return A}function t2(C,H,A){for(let q of C.members){let $=A[q.localName];if($==null)continue;let K;if(q.kind=="oneof"){let J=s(A,q);if(!J)continue;K=J,$=d(A,J)}else K=q;switch(K.fieldKind){case"message":$=E0(K,$);break;case"scalar":$=FC(K,$);break;case"list":$=l2(K,$);break;case"map":$=i2(K,$);break}r(H,K,$)}return H}function FC(C,H){if(C.scalar==Q.BYTES)return k0(H);return H}function i2(C,H){if(R(H)){if(C.scalar==Q.BYTES)return NC(H,k0);if(C.mapKind=="message")return NC(H,(A)=>E0(C,A))}return H}function l2(C,H){if(Array.isArray(H)){if(C.scalar==Q.BYTES)return H.map(k0);if(C.listKind=="message")return H.map((A)=>E0(C,A))}return H}function E0(C,H){if(C.fieldKind=="message"&&!C.oneof&&A0(C.message))return FC(C.message.fields[0],H);if(R(H)){if(C.message.typeName=="google.protobuf.Struct"&&C.parent.typeName!=="google.protobuf.Value")return H;if(!n(H,C.message))return w(C.message,H)}return H}function k0(C){return Array.isArray(C)?new Uint8Array(C):C}function NC(C,H){let A={};for(let q of Object.entries(C))A[q[0]]=H(q[1]);return A}var a2=Symbol(),DC=new WeakMap;function e2(C){let H;if(!CH(C)){H={$typeName:C.typeName};for(let A of C.members)if(A.kind=="oneof"||A.presence==q0)H[A.localName]=w0(A)}else{let A=DC.get(C),q,$;if(A)({prototype:q,members:$}=A);else{q={},$=new Set;for(let K of C.members){if(K.kind=="oneof")continue;if(K.fieldKind!="scalar"&&K.fieldKind!="enum")continue;if(K.presence==q0)continue;$.add(K),q[K.localName]=w0(K)}DC.set(C,{prototype:q,members:$})}H=Object.create(q),H.$typeName=C.typeName;for(let K of C.members){if($.has(K))continue;if(K.kind=="field"){if(K.fieldKind=="message")continue;if(K.fieldKind=="scalar"||K.fieldKind=="enum"){if(K.presence!=q0)continue}}H[K.localName]=w0(K)}}return H}function CH(C){switch(C.file.edition){case d2:return!1;case r2:return!0;default:return C.fields.some((H)=>H.presence!=q0&&H.fieldKind!="message"&&!H.oneof)}}function w0(C){if(C.kind=="oneof")return{case:void 0};if(C.fieldKind=="list")return[];if(C.fieldKind=="map")return{};if(C.fieldKind=="message")return a2;let H=C.getDefaultValue();if(H!==void 0)return C.fieldKind=="scalar"&&C.longAsString?H.toString():H;return C.fieldKind=="scalar"?O(C.scalar,C.longAsString):C.enum.values[0].number}function E(C,H,A=!0){return new n0(C,H,A)}class n0{get sortedFields(){var C;return(C=this._sortedFields)!==null&&C!==void 0?C:this._sortedFields=this.desc.fields.concat().sort((H,A)=>H.number-A.number)}constructor(C,H,A=!0){this.lists=new Map,this.maps=new Map,this.check=A,this.desc=C,this.message=this[V]=H!==null&&H!==void 0?H:w(C),this.fields=C.fields,this.oneofs=C.oneofs,this.members=C.members}findNumber(C){if(!this._fieldsByNumber)this._fieldsByNumber=new Map(this.desc.fields.map((H)=>[H.number,H]));return this._fieldsByNumber.get(C)}oneofCase(C){return g(this.message,C),s(this.message,C)}isSet(C){return g(this.message,C),a0(this.message,C)}clear(C){g(this.message,C),e0(this.message,C)}get(C){g(this.message,C);let H=d(this.message,C);switch(C.fieldKind){case"list":let A=this.lists.get(C);if(!A||A[V]!==H)this.lists.set(C,A=new jC(C,H,this.check));return A;case"map":let q=this.maps.get(C);if(!q||q[V]!==H)this.maps.set(C,q=new wC(C,H,this.check));return q;case"message":return m0(C,H,this.check);case"scalar":return H===void 0?O(C.scalar,!1):T0(C,H);case"enum":return H!==null&&H!==void 0?H:C.enum.values[0].number}}set(C,H){if(g(this.message,C),this.check){let q=xC(C,H);if(q)throw q}let A;if(C.fieldKind=="message")A=b0(C,H);else if(m(H)||b(H))A=H[V];else A=y0(C,H);r(this.message,C,A)}getUnknown(){return this.message.$unknown}setUnknown(C){this.message.$unknown=C}}function g(C,H){if(H.parent.typeName!==C.$typeName)throw new I(H,`cannot use ${H.toString()} with message ${C.$typeName}`,"ForeignFieldError")}class jC{field(){return this._field}get size(){return this._arr.length}constructor(C,H,A){this._field=C,this._arr=this[V]=H,this.check=A}get(C){let H=this._arr[C];return H===void 0?void 0:_0(this._field,H,this.check)}set(C,H){if(C<0||C>=this._arr.length)throw new I(this._field,`list item #${C+1}: out of range`);if(this.check){let A=P0(this._field,C,H);if(A)throw A}this._arr[C]=MC(this._field,H)}add(C){if(this.check){let H=P0(this._field,this._arr.length,C);if(H)throw H}this._arr.push(MC(this._field,C));return}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(let C of this._arr)yield _0(this._field,C,this.check)}*entries(){for(let C=0;C<this._arr.length;C++)yield[C,_0(this._field,this._arr[C],this.check)]}}class wC{constructor(C,H,A=!0){this.obj=this[V]=H!==null&&H!==void 0?H:{},this.check=A,this._field=C}field(){return this._field}set(C,H){if(this.check){let A=VC(this._field,C,H);if(A)throw A}return this.obj[$0(C)]=HH(this._field,H),this}delete(C){let H=$0(C),A=Object.prototype.hasOwnProperty.call(this.obj,H);if(A)delete this.obj[H];return A}clear(){for(let C of Object.keys(this.obj))delete this.obj[C]}get(C){let H=this.obj[$0(C)];if(H!==void 0)H=S0(this._field,H,this.check);return H}has(C){return Object.prototype.hasOwnProperty.call(this.obj,$0(C))}*keys(){for(let C of Object.keys(this.obj))yield PC(C,this._field.mapKey)}*entries(){for(let C of Object.entries(this.obj))yield[PC(C[0],this._field.mapKey),S0(this._field,C[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(let C of Object.values(this.obj))yield S0(this._field,C,this.check)}forEach(C,H){for(let A of this.entries())C.call(H,A[1],A[0],this)}}function b0(C,H){if(!T(H))return H;if(IC(H.message)&&!C.oneof&&C.fieldKind=="message")return H.message.value;if(H.desc.typeName=="google.protobuf.Struct"&&C.parent.typeName!="google.protobuf.Value")return kC(H.message);return H.message}function m0(C,H,A){if(H!==void 0){if(A0(C.message)&&!C.oneof&&C.fieldKind=="message")H={$typeName:C.message.typeName,value:T0(C.message.fields[0],H)};else if(C.message.typeName=="google.protobuf.Struct"&&C.parent.typeName!="google.protobuf.Value"&&R(H))H=EC(H)}return new n0(C.message,H,A)}function MC(C,H){if(C.listKind=="message")return b0(C,H);return y0(C,H)}function _0(C,H,A){if(C.listKind=="message")return m0(C,H,A);return T0(C,H)}function HH(C,H){if(C.mapKind=="message")return b0(C,H);return y0(C,H)}function S0(C,H,A){if(C.mapKind=="message")return m0(C,H,A);return H}function $0(C){return typeof C=="string"||typeof C=="number"?C:String(C)}function PC(C,H){switch(H){case Q.STRING:return C;case Q.INT32:case Q.FIXED32:case Q.UINT32:case Q.SFIXED32:case Q.SINT32:{let A=Number.parseInt(C);if(Number.isFinite(A))return A;break}case Q.BOOL:switch(C){case"true":return!0;case"false":return!1}break;case Q.UINT64:case Q.FIXED64:try{return Z.uParse(C)}catch(A){}break;default:try{return Z.parse(C)}catch(A){}break}return C}function T0(C,H){switch(C.scalar){case Q.INT64:case Q.SFIXED64:case Q.SINT64:if("longAsString"in C&&C.longAsString&&typeof H=="string")H=Z.parse(H);break;case Q.FIXED64:case Q.UINT64:if("longAsString"in C&&C.longAsString&&typeof H=="string")H=Z.uParse(H);break}return H}function y0(C,H){switch(C.scalar){case Q.INT64:case Q.SFIXED64:case Q.SINT64:if("longAsString"in C&&C.longAsString)H=String(H);else if(typeof H=="string"||typeof H=="number")H=Z.parse(H);break;case Q.FIXED64:case Q.UINT64:if("longAsString"in C&&C.longAsString)H=String(H);else if(typeof H=="string"||typeof H=="number")H=Z.uParse(H);break}return H}function EC(C){let H={$typeName:"google.protobuf.Struct",fields:{}};if(R(C))for(let[A,q]of Object.entries(C))H.fields[A]=SC(q);return H}function kC(C){let H={};for(let[A,q]of Object.entries(C.fields))H[A]=_C(q);return H}function _C(C){switch(C.kind.case){case"structValue":return kC(C.kind.value);case"listValue":return C.kind.value.values.map(_C);case"nullValue":case void 0:return null;default:return C.kind.value}}function SC(C){let H={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof C){case"number":H.kind={case:"numberValue",value:C};break;case"string":H.kind={case:"stringValue",value:C};break;case"boolean":H.kind={case:"boolValue",value:C};break;case"object":if(C===null)H.kind={case:"nullValue",value:0};else if(Array.isArray(C)){let A={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(C))for(let q of C)A.values.push(SC(q));H.kind={case:"listValue",value:A}}else H.kind={case:"structValue",value:EC(C)};break}return H}var AH=3,nC={writeUnknownFields:!0};function qH(C){return C?Object.assign(Object.assign({},nC),C):nC}function g0(C,H,A){return K0(new F0,qH(A),E(C,H)).finish()}function K0(C,H,A){var q;for(let $ of A.sortedFields){if(!A.isSet($)){if($.presence==AH)throw new Error(`cannot encode field ${A.desc.typeName}.${$.name} to binary: required field not set`);continue}$H(C,H,A,$)}if(H.writeUnknownFields)for(let{no:$,wireType:K,data:J}of(q=A.getUnknown())!==null&&q!==void 0?q:[])C.tag($,K).raw(J);return C}function $H(C,H,A,q){var $;switch(q.fieldKind){case"scalar":case"enum":J0(C,A.desc.typeName,q.name,($=q.scalar)!==null&&$!==void 0?$:Q.INT32,q.number,A.get(q));break;case"list":KH(C,H,q,A.get(q));break;case"message":bC(C,H,q,A.get(q));break;case"map":for(let[K,J]of A.get(q))JH(C,H,q,K,J);break}}function J0(C,H,A,q,$,K){mC(C.tag($,QH(q)),H,A,q,K)}function bC(C,H,A,q){if(A.delimitedEncoding)K0(C.tag(A.number,L.StartGroup),H,q).tag(A.number,L.EndGroup);else K0(C.tag(A.number,L.LengthDelimited).fork(),H,q).join()}function KH(C,H,A,q){var $;if(A.listKind=="message"){for(let J of q)bC(C,H,A,J);return}let K=($=A.scalar)!==null&&$!==void 0?$:Q.INT32;if(A.packed){if(!q.size)return;C.tag(A.number,L.LengthDelimited).fork();for(let J of q)mC(C,A.parent.typeName,A.name,K,J);C.join();return}for(let J of q)J0(C,A.parent.typeName,A.name,K,A.number,J)}function JH(C,H,A,q,$){var K;switch(C.tag(A.number,L.LengthDelimited).fork(),J0(C,A.parent.typeName,A.name,A.mapKey,1,q),A.mapKind){case"scalar":case"enum":J0(C,A.parent.typeName,A.name,(K=A.scalar)!==null&&K!==void 0?K:Q.INT32,2,$);break;case"message":K0(C.tag(2,L.LengthDelimited).fork(),H,$).join();break}C.join()}function mC(C,H,A,q,$){try{switch(q){case Q.STRING:C.string($);break;case Q.BOOL:C.bool($);break;case Q.DOUBLE:C.double($);break;case Q.FLOAT:C.float($);break;case Q.INT32:C.int32($);break;case Q.INT64:C.int64($);break;case Q.UINT64:C.uint64($);break;case Q.FIXED64:C.fixed64($);break;case Q.BYTES:C.bytes($);break;case Q.FIXED32:C.fixed32($);break;case Q.SFIXED32:C.sfixed32($);break;case Q.SFIXED64:C.sfixed64($);break;case Q.SINT64:C.sint64($);break;case Q.UINT32:C.uint32($);break;case Q.SINT32:C.sint32($);break}}catch(K){if(K instanceof Error)throw new Error(`cannot encode field ${H}.${A} to binary: ${K.message}`);throw K}}function QH(C){switch(C){case Q.BYTES:case Q.STRING:return L.LengthDelimited;case Q.DOUBLE:case Q.FIXED64:case Q.SFIXED64:return L.Bit64;case Q.FIXED32:case Q.SFIXED32:case Q.FLOAT:return L.Bit32;default:return L.Varint}}function c(C,H,...A){return A.reduce((q,$)=>q.nestedMessages[$],C.messages[H])}var zH=YC({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536000000,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1000,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1000,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1000,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false"},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1000,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1000,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1000,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1000,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1000,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1000,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1000}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1000,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536000000,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1000},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]}]});var H2=c(zH,1);var TC;(function(C){C[C.DECLARATION=0]="DECLARATION",C[C.UNVERIFIED=1]="UNVERIFIED"})(TC||(TC={}));var yC;(function(C){C[C.DOUBLE=1]="DOUBLE",C[C.FLOAT=2]="FLOAT",C[C.INT64=3]="INT64",C[C.UINT64=4]="UINT64",C[C.INT32=5]="INT32",C[C.FIXED64=6]="FIXED64",C[C.FIXED32=7]="FIXED32",C[C.BOOL=8]="BOOL",C[C.STRING=9]="STRING",C[C.GROUP=10]="GROUP",C[C.MESSAGE=11]="MESSAGE",C[C.BYTES=12]="BYTES",C[C.UINT32=13]="UINT32",C[C.ENUM=14]="ENUM",C[C.SFIXED32=15]="SFIXED32",C[C.SFIXED64=16]="SFIXED64",C[C.SINT32=17]="SINT32",C[C.SINT64=18]="SINT64"})(yC||(yC={}));var gC;(function(C){C[C.OPTIONAL=1]="OPTIONAL",C[C.REPEATED=3]="REPEATED",C[C.REQUIRED=2]="REQUIRED"})(gC||(gC={}));var cC;(function(C){C[C.SPEED=1]="SPEED",C[C.CODE_SIZE=2]="CODE_SIZE",C[C.LITE_RUNTIME=3]="LITE_RUNTIME"})(cC||(cC={}));var uC;(function(C){C[C.STRING=0]="STRING",C[C.CORD=1]="CORD",C[C.STRING_PIECE=2]="STRING_PIECE"})(uC||(uC={}));var vC;(function(C){C[C.JS_NORMAL=0]="JS_NORMAL",C[C.JS_STRING=1]="JS_STRING",C[C.JS_NUMBER=2]="JS_NUMBER"})(vC||(vC={}));var fC;(function(C){C[C.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",C[C.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",C[C.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(fC||(fC={}));var oC;(function(C){C[C.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",C[C.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",C[C.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",C[C.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",C[C.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",C[C.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",C[C.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",C[C.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",C[C.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",C[C.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(oC||(oC={}));var pC;(function(C){C[C.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",C[C.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",C[C.IDEMPOTENT=2]="IDEMPOTENT"})(pC||(pC={}));var sC;(function(C){C[C.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",C[C.EXPLICIT=1]="EXPLICIT",C[C.IMPLICIT=2]="IMPLICIT",C[C.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(sC||(sC={}));var dC;(function(C){C[C.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",C[C.OPEN=1]="OPEN",C[C.CLOSED=2]="CLOSED"})(dC||(dC={}));var rC;(function(C){C[C.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",C[C.PACKED=1]="PACKED",C[C.EXPANDED=2]="EXPANDED"})(rC||(rC={}));var tC;(function(C){C[C.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",C[C.VERIFY=2]="VERIFY",C[C.NONE=3]="NONE"})(tC||(tC={}));var iC;(function(C){C[C.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",C[C.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",C[C.DELIMITED=2]="DELIMITED"})(iC||(iC={}));var lC;(function(C){C[C.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",C[C.ALLOW=1]="ALLOW",C[C.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(lC||(lC={}));var aC;(function(C){C[C.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",C[C.STYLE2024=1]="STYLE2024",C[C.STYLE_LEGACY=2]="STYLE_LEGACY"})(aC||(aC={}));var eC;(function(C){C[C.NONE=0]="NONE",C[C.SET=1]="SET",C[C.ALIAS=2]="ALIAS"})(eC||(eC={}));var C2;(function(C){C[C.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",C[C.EDITION_LEGACY=900]="EDITION_LEGACY",C[C.EDITION_PROTO2=998]="EDITION_PROTO2",C[C.EDITION_PROTO3=999]="EDITION_PROTO3",C[C.EDITION_2023=1000]="EDITION_2023",C[C.EDITION_2024=1001]="EDITION_2024",C[C.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",C[C.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",C[C.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",C[C.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",C[C.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",C[C.EDITION_MAX=2147483647]="EDITION_MAX"})(C2||(C2={}));var A2={readUnknownFields:!0};function YH(C){return C?Object.assign(Object.assign({},A2),C):A2}function u(C,H,A){let q=E(C,void 0,!1);return q2(q,new M0(H),YH(A),!1,H.byteLength),q.message}function q2(C,H,A,q,$){var K;let J=q?H.len:H.pos+$,z,X,Y=(K=C.getUnknown())!==null&&K!==void 0?K:[];while(H.pos<J){if([z,X]=H.tag(),q&&X==L.EndGroup)break;let U=C.findNumber(z);if(!U){let G=H.skip(X,z);if(A.readUnknownFields)Y.push({no:z,wireType:X,data:G});continue}XH(C,H,U,X,A)}if(q){if(X!=L.EndGroup||z!==$)throw new Error("invalid end group tag")}if(Y.length>0)C.setUnknown(Y)}function XH(C,H,A,q,$){switch(A.fieldKind){case"scalar":C.set(A,k(H,A.scalar));break;case"enum":C.set(A,k(H,Q.INT32));break;case"message":C.set(A,c0(H,$,A,C.get(A)));break;case"list":LH(H,q,C.get(A),$);break;case"map":ZH(H,C.get(A),$);break}}function ZH(C,H,A){let q=H.field(),$,K,J=C.pos+C.uint32();while(C.pos<J){let[z]=C.tag();switch(z){case 1:$=k(C,q.mapKey);break;case 2:switch(q.mapKind){case"scalar":K=k(C,q.scalar);break;case"enum":K=C.int32();break;case"message":K=c0(C,A,q);break}break}}if($===void 0)$=O(q.mapKey,!1);if(K===void 0)switch(q.mapKind){case"scalar":K=O(q.scalar,!1);break;case"enum":K=q.enum.values[0].number;break;case"message":K=E(q.message,void 0,!1);break}H.set($,K)}function LH(C,H,A,q){var $;let K=A.field();if(K.listKind==="message"){A.add(c0(C,q,K));return}let J=($=K.scalar)!==null&&$!==void 0?$:Q.INT32;if(!(H==L.LengthDelimited&&J!=Q.STRING&&J!=Q.BYTES)){A.add(k(C,J));return}let X=C.uint32()+C.pos;while(C.pos<X)A.add(k(C,J))}function c0(C,H,A,q){let $=A.delimitedEncoding,K=q!==null&&q!==void 0?q:E(A.message,void 0,!1);return q2(K,C,H,$,$?A.number:C.uint32()),K}function k(C,H){switch(H){case Q.STRING:return C.string();case Q.BOOL:return C.bool();case Q.DOUBLE:return C.double();case Q.FLOAT:return C.float();case Q.INT32:return C.int32();case Q.INT64:return C.int64();case Q.UINT64:return C.uint64();case Q.FIXED64:return C.fixed64();case Q.BYTES:return C.bytes();case Q.FIXED32:return C.fixed32();case Q.SFIXED32:return C.sfixed32();case Q.SFIXED64:return C.sfixed64();case Q.SINT64:return C.sint64();case Q.UINT32:return C.uint32();case Q.SINT32:return C.sint32()}}function Q0(C,H){var A;let q=u(H2,UC(C));return q.messageType.forEach(_),q.dependency=(A=H===null||H===void 0?void 0:H.map((K)=>K.proto.name))!==null&&A!==void 0?A:[],l(q,(K)=>H===null||H===void 0?void 0:H.find((J)=>J.proto.name===K)).getFile(q.name)}var K2=Q0("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");var $2;(function(C){C[C.NULL_VALUE=0]="NULL_VALUE"})($2||($2={}));var J2=Q0("CgljbWQucHJvdG8SBHdpcmUiJAoHQ29tbWFuZBILCgNjbWQYASABKAkSDAoEYXJncxgCIAMoCSKmAgoIUmVzcG9uc2USCwoDZXJyGAEgASgJEg8KBXZfbmlsGAIgASgISAASDwoFdl9pbnQYAyABKANIABIPCgV2X3N0chgEIAEoCUgAEhEKB3ZfZmxvYXQYBSABKAFIABIRCgd2X2J5dGVzGAYgASgMSAASJgoFYXR0cnMYByABKAsyFy5nb29nbGUucHJvdG9idWYuU3RydWN0EiYKBnZfbGlzdBgIIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZRIsCgh2X3NzX21hcBgJIAMoCzIaLndpcmUuUmVzcG9uc2UuVlNzTWFwRW50cnkaLQoLVlNzTWFwRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4AUIHCgV2YWx1ZUIIWgYuL3dpcmViBnByb3RvMw",[K2]),v=c(J2,0),Q2=c(J2,1);function u0(C){let H=null;try{H=u(Q2,new Uint8Array(C.buffer,C.byteOffset,C.byteLength))}catch(A){return{response:null,error:A}}return{response:H,error:null}}function z2(C,H){let A;try{A=g0(v,H)}catch(q){return console.error("Failed to serialize command:",q),q}try{return C.write(A),null}catch(q){return console.error("Failed to write to socket:",q),q}}var z0={command({cmd:C,args:H}){return w(v,{cmd:C,args:H})}};var xH=1000;function VH(C,H){let{response:A,error:q}=u0(H);if(q){console.error("Error reading data:",q);return}C.data=A}function WH(C,H){let{response:A,error:q}=u0(H);if(C.data=A,q||!A){console.error("Error reading data:",q);return}C.watchCh.push(A)}async function RH(C,H){return await Y2(C.host,C.port,C,H)}async function OH(C){return{[Symbol.asyncIterator](){return{async next(){if(C.watchCh.length>0)return{value:C.watchCh.shift(),done:!1};return new Promise((H)=>{let A=setInterval(()=>{if(C.watchCh.length>0){clearInterval(A);let q=C.watchCh.shift();H({value:q,done:!1})}},50)})}}}}}async function BH(C){if(C.watchIterator!=null)return{iterator:C.watchIterator,error:null};let{conn:H,error:A}=await RH(C,WH);if(A||!H||!C.id)return console.error("Error establishing watch connection:",A),{iterator:null,error:A};C.watchConn=H;let q=z0.command({cmd:"HANDSHAKE",args:[C.id,"watch"]}),{response:$,error:K}=await X2(C,q,H);if(K)return console.error("Error during handshake:",K),{iterator:null,error:K};let J=await OH(C);return C.watchIterator=J,{iterator:J,error:null}}async function Y2(C,H,A,q){return new Promise(($)=>{let K=GH({host:C,port:H},()=>{K.setKeepAlive(!0,5*xH),console.log("Socket opened and keep-alive set."),$({conn:K,error:null})});K.on("data",(J)=>{q(A,J)}),K.on("error",(J)=>{console.error("Socket connection error:",J.message,`
Tip : Check port number and if dicedb is ruunning in that port`),$({conn:null,error:J})}),K.on("close",()=>{console.log("Socket closed.")}),K.on("drain",()=>{console.log("Socket drained.")})})}async function E1(C,H,A){let q=[],$={id:UH(),conn:null,watchConn:null,host:C,port:H,watchCh:q,watchIterator:null,WatchChGetter:()=>BH($),Fire:(U)=>Z2($,U),FireString:(U)=>IH($,U),data:null},{conn:K,error:J}=await Y2(C,H,$,VH);if($.conn=K,J||!$||$.conn==null)return{client:null,error:J};$.data=null,$.id=A?.id??$.id,$.conn=A?.conn??$.conn,$.watchConn=A?.watchConn??$.watchConn,$.Fire=A?.Fire??$.Fire,$.FireString=A?.FireString??$.FireString;let z=z0.command({cmd:"HANDSHAKE",args:[$.id,"watch"]}),{response:X,error:Y}=await $.Fire(z);if(Y)return console.error("Error during handshake:",Y),{client:null,error:Y};return{client:$,error:null}}async function X2(C,H,A){if(!A)return{response:null,error:new Error("Client not connected")};let q=z2(A,H);if(q)return{response:null,error:q};let $=Date.now();while(!C.data){if(Date.now()-$>5000)return{response:null,error:new Error(`Timeout waiting for response to command: ${H.getCmd()}`)};await new Promise((J)=>setTimeout(J,100))}let K={response:C.data,error:null};return C.data=null,K}async function Z2(C,H){return X2(C,H,C.conn)}async function IH(C,H){H=H.trim();let A=H.split(" "),q=z0.command({cmd:A[0],args:A.length>1?A.slice(1):[]});return Z2(C,q)}export{z0 as wire,X2 as fire,w as create,BH as WatchChGetter,E1 as NewClient,IH as FireString,Z2 as Fire,v as CommandSchema};
